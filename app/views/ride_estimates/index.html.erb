<div class="container text-center">
    <h2>Enter info to get ride estimates from Uber and Mass Transit options</h2>
</div>
<div class="container-fluid">
  <div class="row text-center">
    <div class="col-sm-12 col-md-12 col-lg-12" id='ride-info-input'>
      <div class="row">
        <label>Origin:</label>
        <input type="text" id='origin-input'>
        <label>Destination:</label>
        <input type="text" id='destination-input'>
        <button id='get-estimate-button' class='btn btn-primary'>Get Estimates</button>
      </div>
      <div class="col-sm-3 col-md-3 col-lg-3">
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-sm-12 col-md-12 col-lg-12">
      <div class="col-sm-8 col-md-8 col-lg-8">
        <div class="row">
          <h1>Bus Estimates</h1>
          <table class="table table-hover" id='bus-trips'>
            <thead>
              <tr>
                <td>Ride Type</td>
                <td>Estimate Cost</td>
                <td>Departure Time</td>
                <td>Estimated Arrival Time</td>
                <td>Travel Time</td>
                <td>Travel Distance</td>
              </tr>
            </thead>
            <tbody>
            <% if @google_estimate %>
              <tr id='bus-estimate-id'>
                <td id="g-ride-type">RTD Bus</td>
                <td id="g-ride-cost">5.20</td>
                <td id="g-ride-departure"><%= @google_estimate.departure_time %></td>
                <td id="g-ride-arrival"><%= @google_estimate.arrival_time %></td>
                <td id="g-ride-duration"><%= @google_estimate.duration %></td>
                <td id="g-ride-distance"><%= @google_estimate.distance %></td>
                <td><button id='save-google-trip' class='btn btn-primary btn-sm'>Take trip / Save trip</button></td>
              </tr>
            </tbody>
            <% end %>
          </table>
        </div>
        <div class="row">
          <h1>Uber Estimates</h1>
          <table class="table table-hover" id="uber-trips">
            <thead>
              <tr>
                <td>Uber Ride Type</td>
                <td>Estimate Cost</td>
                <td>Estimated Uber Arrival</td>
                <td>Estimate Travel Time</td>
                <td>Travel Distance</td>
                <td>High Estimate</td>
                <td>Low Estimate</td>
                <td>Minimum Cost</td>
              </tr>
            </thead>
            <tbody>
            <% if @uber_estimate %>
              <% @uber_estimate.ride_estimates.each do |uber_estimate| %>
                  <tr id="<%=uber_estimate.localized_display_name%>-estimate-id" >
                    <td id="u-ride-type"><%= uber_estimate.localized_display_name %></td>
                    <td id="u-ride-estimate"><%= uber_estimate.estimate %></td>
                    <td id="u-ride-uber-arrival"><%= uber_estimate.estimated_uber_arrival %></td>
                    <td id="u-ride-duration"><%= uber_estimate.duration %> minutes</td>
                    <td id="u-ride-distance"><%= uber_estimate.distance %> miles</td>
                    <td id="u-ride-high-estimate"><%= uber_estimate.high_estimate %></td>
                    <td id="u-ride-low-estimate"><%= uber_estimate.low_estimate %></td>
                    <td id="u-ride-minimum"><%= uber_estimate.minimum %></td>
                    <td><button id='save-uber-trip' class='btn btn-primary btn-sm'>Take trip / Save trip</button></td>
                    <td>
                  </tr>
              <% end %>
            <% end %>
          </tbody>
          </table>
        </div>
      </div>
      <div class="col-sm-4 col-md-4 col-lg-4" id="bus-trip-directions">
        <h3 class='text-center'>Bus Itinerary</h3>
        <% if @google_estimate %>
        <p>Origin: <%= @google_estimate.start_address %></p>
        <p>Destination: <%= @google_estimate.end_address %></p>
        <p>Steps: </p>
          <% @google_estimate.steps.each do |step|%>
            <p><%= step.html_instructions %></p>
            <% if step.steps %>
              <% step.steps.each do |step| %>
                <p><%= step['travel_mode'] %>: Go <%= step['distance']['text'] %> for <%= step['duration']['text'] %> <%= step['html_instructions'].html_safe rescue "none found" %> <%= %></p>
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
</div>
